<nav class="main-nav">
  <a
    class="nav-link"
    routerLink="/products"
    routerLinkActive="active"
    [routerLinkActiveOptions]="{ exact: true }"
  >Products</a>

  <a
    class="nav-link"
    routerLink="/admin"
    routerLinkActive="active"
  >Admin</a>

  <span class="spacer"></span>

  <button
    (click)="theme.toggle()"
    class="theme-btn"
    [attr.aria-label]="theme.effective() === 'dark' ? 'switch to light mode' : 'switch to dark mode'">
    <span *ngIf="theme.effective() === 'dark'">☀️</span>
    <span *ngIf="theme.effective() === 'light'">🌟</span>
  </button>

  <button class="icon-btn" type="button" [routerLink]="['/cart']" aria-label="Open cart">
    🛒
    <span class="badge" *ngIf="cart.count()">{{ cart.count() }}</span>
  </button>

  <button type="button" (click)="toggleFavs()" [class.active]="cart.favorites().length > 0">♥</button>
</nav>

<app-favorites-panel
  [open]="showFavs()"
  (close)="showFavs.set(false)">
</app-favorites-panel>

<router-outlet></router-outlet>
